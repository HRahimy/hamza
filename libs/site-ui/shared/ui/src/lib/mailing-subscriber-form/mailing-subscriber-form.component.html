<form [formGroup]='newSubscriberForm' ngxsForm='global.newSubscriberForm' (ngSubmit)='onSubmit()' class='flex'>
  <mat-spinner color='accent'
               *ngIf='($subscriberForm | async).status === "SUBMISSION_IN_PROGRESS"'>
  </mat-spinner>

  <mat-form-field appearance='outline'
                  color='accent'
                  *ngIf='($subscriberForm | async).status !== "SUBMISSION_IN_PROGRESS"'>
    <mat-label>Name</mat-label>
    <input matInput formControlName='name' required>
    <mat-error *ngIf="newSubscriberForm.controls.name.hasError('required')">Name is required</mat-error>
  </mat-form-field>

  <mat-form-field appearance='outline'
                  color='accent'
                  *ngIf='($subscriberForm | async).status !== "SUBMISSION_IN_PROGRESS"'>
    <mat-label>Email</mat-label>
    <input matInput formControlName='email' required>
    <mat-error *ngIf="newSubscriberForm.controls.email.hasError('required')">Email is required</mat-error>
  </mat-form-field>

  <button mat-raised-button
          class='centered-button'
          color='accent'
          type='submit'
          *ngIf='($subscriberForm | async).status !== "SUBMISSION_IN_PROGRESS"'>Save
  </button>
</form>
